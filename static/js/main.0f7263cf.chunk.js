(this["webpackJsonpreact-news"]=this["webpackJsonpreact-news"]||[]).push([[0],{21:function(e,t,n){},29:function(e,t,n){e.exports=n(40)},40:function(e,t,n){"use strict";n.r(t);n(21);var a=n(2),r=n(11),c=n.n(r),o=n(15),u=n(3),l=Object.freeze({UPDATE_NEWS:"UPDATE_NEWS",UPDATE_UPVOTE:"UPDATE_UPVOTE",HIDE_NEWS:"HIDE_NEWS",ERROR:"ERROR"}),i=function(e){return{type:l.UPDATE_NEWS,payload:e}},s=function(e){return{type:l.HIDE_NEWS,payload:e}},p=function(e){return{type:l.UPDATE_UPVOTE,payload:e}},E=function(e){return{type:l.ERROR,payload:e}},m=n(24),f=n(25),b=n(28),h=n(27),v=n(0),d=n.n(v),j=d.a.createContext(),O=function(){return d.a.createElement("div",null,d.a.createElement("p",null,"Graph"))},w=function(e){return d.a.createElement("div",null,d.a.createElement("p",null,"CommentsVote CountUp VoteNews Details"),e.children)},y=function(e){var t=e.objectID,n=Object(v.useContext)(j);return d.a.createElement("div",null,d.a.createElement("p",{onClick:function(){return n.hideNews({objectID:t})}},"[Hide]"))},D=function(e){var t=e.newsTitle;return d.a.createElement("div",null,d.a.createElement("p",null,t))},N=function(e){var t=e.objectID,n=Object(v.useContext)(j);return d.a.createElement("div",null,d.a.createElement("p",{onClick:function(){return n.upVote({objectID:t})}},"^"))},g=function(e){var t=e.count;return d.a.createElement("div",null,d.a.createElement("p",null,t," ::"))},I=function(e){var t=e.newsAuthor;return d.a.createElement("div",null,t)},P=function(e){var t=e.time;return d.a.createElement("div",null," ",t," ago")},T=function(e){var t=e.count;return d.a.createElement("div",null,t)},_=function(e){var t=e.story,n=t.author,a=t.created_at,r=t.title,c=t.points,o=t.num_comments,u=t.objectID;return d.a.createElement("div",null,d.a.createElement(T,{count:o}),d.a.createElement(g,{count:c}),d.a.createElement(N,{objectID:u}),d.a.createElement(D,{newsTitle:r}),d.a.createElement(P,{time:a}),d.a.createElement(I,{newsAuthor:n}),d.a.createElement(y,{objectID:u}))},k=n(10),x=function(e){return d.a.createElement("div",null,e.children)},S=function(){return Object(v.useContext)(j).hits.map((function(e){return d.a.createElement(_,{key:e.objectID,story:e})}))},U=function(){return d.a.createElement(x,null,d.a.createElement(w,null),d.a.createElement(S,null),d.a.createElement("footer",null,d.a.createElement(k.b,{to:"/search?tags=front_page"},"Previous")," | ",d.a.createElement(k.b,{to:"/search?query=page".concat(2)},"Next")," "),d.a.createElement(O,null))},V=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"componentWillMount",value:function(){this.props.getNews("?tags=front_page")}},{key:"componentWillReceiveProps",value:function(e){e.location.search!==this.props.location.search&&this.props.getNews(e.location.search)}},{key:"render",value:function(){var e=this.props,t=e.hackerNews.hits,n=e.upVote,a=e.hideNews;return d.a.createElement(d.a.Fragment,null,d.a.createElement(j.Provider,{value:{upVote:n,hits:t,hideNews:a}},d.a.createElement(U,null)))}}]),n}(v.Component),A=n(16),R=function(e){var t=fetch("".concat("https://hn.algolia.com/api/v1/search").concat(e)).then((function(e){return e}));return t},W=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=Object(A.b)((function(e){return{hackerNews:(t=e.hackerNews.news,Object(u.a)(Object(u.a)({},t),{},{hits:t.hits.filter((function(e){return"undefined"==typeof e.isVisible&&!e.isVisible}))}))};var t}),(function(e,t){return{getNews:function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(n);case 3:return a=t.sent,t.next=6,e(i(a));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e(E(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),upVote:function(t){e(p(t))},hideNews:function(t){e(s(t))}}}))(V),H=n(14),J=n(8),q=function(e,t){return localStorage.setItem(e,JSON.stringify(t)),t},M={hits:[],nbHits:0,page:0,nbPages:0,hitsPerPage:0,exhaustiveNbHits:!0,query:"",params:"",processingTimeMS:0},z=Object(J.b)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.UPDATE_NEWS:var n=t.payload.hits.map((function(e){var t=localStorage.getItem(e.objectID);return null===t?e:JSON.parse(t)}));return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.payload),{},{hits:n});case l.UPDATE_UPVOTE:var a=t.payload.objectID,r=e.hits.map((function(e){return e.objectID===a?q(a,Object(u.a)(Object(u.a)({},e),{},{points:e.points+1})):e}));return Object(u.a)(Object(u.a)({},e),{},{hits:r});case l.HIDE_NEWS:var c=t.payload.objectID,o=e.hits.map((function(e){return e.objectID===t.payload.objectID?q(c,Object(u.a)(Object(u.a)({},e),{},{isVisible:!1})):e}));return Object(u.a)(Object(u.a)({},e),{},{hits:o});default:return e}}}),B=Object(J.d)(Object(J.b)({hackerNews:z}),Object(J.c)(window.devToolsExtension?window.devToolsExtension():function(e){return e}));Object(H.render)(d.a.createElement(A.a,{store:B},d.a.createElement(k.a,null,d.a.createElement("main",null,d.a.createElement(a.c,null,d.a.createElement(a.a,{path:"/",component:C}))))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.0f7263cf.chunk.js.map